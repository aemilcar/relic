{% extends "template.html" %}
{% block main %}
<div class='side-menu'>
    <h3>{{instance.hostname}}</h3>
    <ul>
        <li onclick="location.href='/cloud/{{cloud.uuid}}/role/{{role_id}}/instance/{{instance.id}}'">General settings</li>
        <li onclick="location.href='/cloud/{{cloud.uuid}}/role/{{role_id}}/instance/{{instance.id}}/ebs'">Elastic Block Storage</li>
        <li onclick="location.href='/cloud/{{cloud.uuid}}/role/{{role_id}}/instance/{{instance.id}}/elastic_ip'">Elastic IP</li>
    </ul>
</div>
<div class='main-content'>
    <h2>Elastic Block Storage</h2>
    {% if ebs_list %}
    <h3>Current EBS's</h3>
    <table>
        <tr>
            <th>{{form.mountpoint.label}}</th>
            <th>{{form.size.label}}</th>
            <th>Delete</th>
        </tr>
        {% for ebs in ebs_list %}
            <tr>
                <td><input type='text' value='{{ebs.mountpoint}}' readonly></td>
                <td><input type='text' value='{{ebs.size}}' readonly></td>
                <td><a href="/cloud/{{cloud.uuid}}/role/{{role_id}}/instance/{{instance.id}}/ebs/{{ebs.id}}/delete">Remove</td>
            </tr>
        {% endfor %}
    </table>
    {% endif %}
    <h3>Add more EBS's</h3>
    <form name='addEBSForm' action='' method='post'>{% csrf_token %}
        <table>
            <tr>
                <th>{{form.mountpoint.label}}</th>
                <th>{{form.size.label}}</th>
            </tr>
            <tr>
                <td>
                    {{form.mountpoint}}
                    {% for error in form.mountpoint.errors %}<br/>{{error}}{% endfor %}
                </td>
                <td>
                    {{form.size}}
                    {% for error in form.size.errors %}<br/>{{error}}{% endfor %}
                </td>
            </tr>
        </table>
    <br />
    <p><a class="btn" onclick="document.addEBSForm.submit()">Update EBS settings &raquo;</a></p>
    </form>
</div>
<div class='clear'></div>
{% endblock %}
